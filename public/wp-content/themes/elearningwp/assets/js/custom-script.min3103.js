!function (e) { "use strict"; e(window).load(function () { t.load() }), e(document).ready(function () { t.ready() }); var t = window.thim_elearningwp = { load: function () { this.woo_product_slider(), this.learnpress_course_slider(), this.learnpress_course_media_slider(), this.show_current_curriculum_section() }, ready: function () { this.mobile_menu_toggle(), this.footer_fixed(), this.hidden_title(), this.social_share(), this.full_slider(), this.gallery_posts(), this.back_to_top(), this.feature_preloading(), this.widget_form_login(), this.login_form(), this.postformat_audio(), this.postformat_gallery(), this.sidebar_sticky(), this.mobile_menu(), this.waypoints_magic(), this.parallax_effect(), this.header_menu(), this.header_overlay(), this.round_slider(), this.anchor_links(), this.woo_switcher(), this.woo_quickview(), this.learnpress_profile_tab(), this.learpress_reviews(), this.learnpress_media_courses(), this.learnpress_tab_filter(), this.learnpress_set_wishlist(), this.change_icon_toggle_curriculum() }, anchor_links: function () { e('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function (t) { if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname == this.hostname) { var i = e(this.hash); (i = i.length ? i : e("[name=" + this.hash.slice(1) + "]")).length && (t.preventDefault(), e("html, body").animate({ scrollTop: i.offset().top }, 1e3, function () { var t = e(i); if (t.focus(), t.is(":focus")) return !1; t.attr("tabindex", "-1"), t.focus() })) } }) }, round_slider: function () { e(".thim-round-testimonial-slider").each(function () { var t = e(this), i = !!t.data("autoplay"), a = !!t.data("mousewheel"); e(this).thimContentSlider({ items: t, itemsVisible: 3, mouseWheel: a, autoPlay: i, itemMaxWidth: 331, itemMinWidth: 331, activeItemRatio: 1, activeItemPadding: -85, itemPadding: 0, imageSelector: ".image", contentSelector: ".content" }) }) }, header_menu: function () { var t = e("#masthead.sticky-header"), i = e(".content-pusher").length > 0 ? e(".content-pusher").offset().top : 0, a = t.outerHeight(), s = 0; e(window).scrollTop() > 2 && t.removeClass("affix-top").addClass("affix"); var o = e(".thim-fixed"); 0 != (o.length > 0 ? o.offset().top : 0) && o.css("width", o.width()), e(window).scroll(function () { var o = e(this).scrollTop(); if (o > 2) { if (t.removeClass("affix-top").addClass("affix"), t.hasClass("header_v2") && t.css({ top: i }), o > a + i && t.hasClass("header_v2")) { var n = e(".inner-header-top"), l = n.outerHeight(); t.css({ top: i - l }) } } else t.removeClass("affix").addClass("affix-top").removeClass("menu-show"); if (o > s && o > a + i) t.hasClass("menu-hidden") || t.addClass("menu-hidden").removeClass("menu-show"); else if (t.hasClass("menu-hidden")) { if (t.hasClass("header_v2")) { var n = e(".inner-header-top"), l = n.outerHeight(); t.css({ top: i - l }) } t.removeClass("menu-hidden").addClass("menu-show") } s = o }) }, header_overlay: function () { var t = e("#masthead.sticky-header.header_overlay"), i = e("#wrapper-container .top_site_main"); t.imagesLoaded(function () { var a = t.outerHeight(!0); i.css({ "padding-top": a + "px" }), e(window).resize(function () { var e = t.outerHeight(!0); i.css({ "padding-top": e + "px" }) }) }) }, parallax_effect: function () { e(".parallax_effect").each(function () { var t = e(this); e(window).scroll(function () { var i = -(e(window).scrollTop() / 4); t.css({ backgroundPosition: "50%" + (i + 0) + "px" }) }) }) }, learnpress_tab_filter: function () { e(".filter_courses .filter li a").on("click", function (t) { t.preventDefault(); var i = e(this), a = i.parent().attr("rel"); e.ajax({ type: "POST", dataType: "html", url: a, beforeSend: function () { e(".filter_courses .wrapper-item").addClass("loading"), e(".filter_courses .filter li.active").removeClass("active"), i.parent().addClass("active") }, success: function (t) { var i = e(t).find(".site-content .archive-courses .content_archive").html(); i && (e(".filter_courses .wrapper-item").html(i), e(".filter_courses .wrapper-item").removeClass("loading")) }, error: function () { e(".filter_courses .wrapper-item .loading").removeClass("loading") } }) }) }, learnpress_course_media_slider: function () { e(".courses-media-slider").each(function () { var e = jQuery(this), t = (e.attr("data-column"), e.attr("data-show-page-nav")), i = e.attr("data-show-nav"); e.attr("data-desktopsmall") && parseInt(e.attr("data-desktopsmall")), e.attr("data-itemtablet") && parseInt(e.attr("data-itemtablet")), e.attr("data-itemmobile_horizontal") && parseInt(e.attr("data-itemmobile_horizontal")), e.attr("data-itemmobile") && parseInt(e.attr("data-itemmobile")), t = 1 == t, i = 1 == i, e.owlCarousel({ items: 1, loop: !0, stagePadding: 95, dots: t, autoPlay: !1, nav: i, navText: ["<i class='fa fa-angle-left'></i>", "<i class='fa fa-angle-right'></i>"], responsive: { 0: { items: 1, stagePadding: 0 }, 450: { items: 1, stagePadding: 0 }, 650: { items: 1, stagePadding: 0 }, 980: { items: 1 }, 1024: { items: 1 } } }) }) }, show_current_curriculum_section: function () { if (e("body").hasClass("single-lp_course")) { var t = window.localStorage; t.getItem("thim-lp-current-section"); var i = e("#learn-press-course-curriculum"); (i.find(".section"), i.find(".course-item")).on("click", function (i) { var a = e(this).closest(".section").data("section-id"); t.setItem("thim-lp-current-section", a) }) } }, learnpress_course_slider: function () { e(".courses-slider").each(function () { var t = jQuery(this), i = t.attr("data-column"), a = t.attr("data-show-page-nav"), s = t.attr("data-show-nav"), o = t.attr("data-desktopsmall") ? parseInt(t.attr("data-desktopsmall")) : i, n = t.attr("data-desktopsmall") ? parseInt(t.attr("data-desktopsmall")) : i, l = t.attr("data-itemtablet") ? parseInt(t.attr("data-itemtablet")) : 2, r = t.attr("data-itemmobile_horizontal") ? parseInt(t.attr("data-itemmobile_horizontal")) : 2, c = t.attr("data-itemmobile") ? parseInt(t.attr("data-itemmobile")) : 1; a = 1 == a, s = 1 == s, e(this).hasClass("post-carousel") && (o = 4, n = 3, l = 1, r = 2, c = 1), t.owlCarousel({ items: i, loop: !0, dots: a, autoPlay: !1, nav: s, navText: ["<i class='fa fa-angle-left'></i>", "<i class='fa fa-angle-right'></i>"], responsive: { 0: { items: 1 }, 450: { items: c }, 650: { items: r }, 980: { items: l }, 1024: { items: n }, 1450: { items: o } } }) }) }, learnpress_profile_tab: function () { !e("body").hasClass("learnpress-v3") && e(".profile-tabs .nav-tabs li a").click(function (t) { t.preventDefault(), e(".profile-tabs").find(".active").removeClass("active"), e(this).parent().addClass("active"), e(".profile-tabs .tab-content").find(e(this).attr("href")).addClass("active") }) }, learnpress_media_courses: function () { e(".media-link").magnificPopup({ type: "iframe" }), e(".media-iframe").magnificPopup({ type: "inline", midClick: !0 }) }, learpress_reviews: function () { if (e(".add-review").length) { var t = e(".add-review .filled"), i = e("#review-course-value"); t.find("li").on("mouseover", function () { e(this).nextAll().find("span").removeClass("fa-star").addClass("fa-star-o"), e(this).prevAll().find("span").removeClass("fa-star-o").addClass("fa-star"), e(this).find("span").removeClass("fa-star-o").addClass("fa-star"), i.val(e(this).index() + 1) }) } }, change_icon_toggle_curriculum: function () { e("#learn-press-course-curriculum").find(".section-header").on("click", function (t) { var i = e(t.target).closest(".section-header"); i.siblings("ul.section-content").is(":visible") ? i.find(".collapse").removeClass("open") : i.find(".collapse").addClass("open") }) }, waypoints_magic: function () { void 0 !== e.fn.waypoint && e(".wpb_animate_when_almost_visible:not(.wpb_start_animation)").waypoint(function () { e(this).addClass("wpb_start_animation") }, { offset: "85%" }) }, mobile_menu: function () { 768 >= e(window).width() && (e(".mobile-menu-container>ul>li.menu-item-has-children:not(.current-menu-parent)>a").after('<span class="icon-toggle"><i class="fa fa-angle-down"></i></span>'), e(".mobile-menu-container>ul>li.menu-item-has-children.current-menu-parent >a").after('<span class="icon-toggle"><i class="fa fa-angle-up"></i></span>')), e(".mobile-menu-container>ul>li.menu-item-has-children .icon-toggle").on("click", function () { e(this).find("i").hasClass("fa-angle-down") ? (e(this).next(".sub-menu").slideDown(500, "linear"), e(this).html('<i class="fa fa-angle-up"></i>')) : (e(this).next(".sub-menu").slideUp(500, "linear"), e(this).html('<i class="fa fa-angle-down"></i>')) }) }, sidebar_sticky: function () { e(window).width() > 769 && e(document).ready(function () { var t = 75; e("#wpadminbar").length && (t += e("#wpadminbar").outerHeight()), e("#masthead.sticky-header").length && (t += e("#masthead.sticky-header").outerHeight()), e(".sticky-sidebar").theiaStickySidebar({ containerSelector: "", additionalMarginTop: t, additionalMarginBottom: "0", updateSidebarHeight: !1, minWidth: "768", sidebarBehavior: "modern" }), e("#sing-button-sidebar.sticky-sidebar").theiaStickySidebar({ containerSelector: "", additionalMarginTop: t, additionalMarginBottom: "0", updateSidebarHeight: !1, minWidth: "768", sidebarBehavior: "modern" }) }) }, woo_product_slider: function () { e("#carousel").flexslider({ animation: "slide", controlNav: !1, animationLoop: !1, slideshow: !0, itemWidth: 132, itemMargin: 5, maxItems: 3, directionNav: !0, asNavFor: "#slider" }), e("#slider").flexslider({ animation: "slide", controlNav: !1, animationLoop: !1, directionNav: !1, slideshow: !1, sync: "#carousel" }) }, woo_quickview: function () { e(".quick-view").click(function (t) { t.preventDefault(), e(this).find("i").before('<div class="loading dark"></div>'), e(this).find("i").css("display", "none"); var i = e(this).attr("data-prod"); e.post(ajaxurl, { action: "jck_quickview", product: i }, function (t) { e.magnificPopup.open({ mainClass: "my-mfp-zoom-in", items: { src: '<div class="product-lightbox">' + t + "</div>", type: "inline" } }), e(".loading").remove(), e(this).find("i").css("display", "inline-block"), setTimeout(function () { "undefined" != typeof wc_add_to_cart_variation_params && e(".product-info .variations_form").each(function () { e(this).wc_variation_form().find(".variations select:eq(0)").change() }) }, 600) }) }) }, woo_switcher: function () { var i = e(".grid-list-switch").data("cookie"); if ("product-switch" == i) var a = "products-grid", s = "products-list"; else if ("lpr_course-switch" == i) var a = "course-grid", s = "course-list"; else var a = "blog-grid", s = "blog-list"; var o = "switcher-active"; e(".switchToList").click(function () { Cookies.get("name") && "grid" !== Cookies.get("name") || t.woo_switchToList(o, a, s, i) }), e(".switchToGrid").click(function () { Cookies.get("name") && "grid" !== Cookies.get("name") || t.woo_switchToGrid(o, a, s, i) }), t.woo_check_view_mod(o, a, s, i) }, woo_switchToList: function (t, i, a, s) { e(".switchToList").addClass(t), e(".switchToGrid").removeClass(t), e(".archive_switch").fadeOut(300, function () { e(this).removeClass(i).addClass(a).fadeIn(300), Cookies.set(s, "list", { expires: 1, path: "" }) }) }, woo_switchToGrid: function (t, i, a, s) { e(".switchToGrid").addClass(t), e(".switchToList").removeClass(t), e(".archive_switch").fadeOut(300, function () { e(this).removeClass(a).addClass(i).fadeIn(300), Cookies.set(s, "grid", { expires: 1, path: "" }) }) }, woo_check_view_mod: function (t, i, a, s) { "grid" == Cookies.get(s) ? (e(".archive_switch").removeClass(a).addClass(i), e(".switchToGrid").addClass(t), e(".switchToList").removeClass(t)) : "list" == Cookies.get(s) ? (e(".archive_switch").removeClass(i).addClass(a), e(".switchToList").addClass(t), e(".switchToGrid").removeClass(t)) : (e(".switchToList").addClass(t), e(".switchToGrid").removeClass(t), e(".archive_switch").removeClass(i).addClass(a)) }, postformat_gallery: function () { e("article.format-gallery .flexslider").length > 0 && e("article.format-gallery .flexslider").imagesLoaded(function () { e(".flexslider").flexslider({ slideshow: !1, animation: "fade", pauseOnHover: !0, animationSpeed: 400, smoothHeight: !0, directionNav: !0, controlNav: !1 }) }) }, postformat_audio: function () { e(".jp-jplayer").each(function () { var t = e(this), i = t.data("audio"), a = i.substr(i.lastIndexOf(".") + 1), s = "#" + t.data("player"), o = {}; o[a] = i, t.jPlayer({ ready: function () { t.jPlayer("setMedia", o) }, swfPath: "jplayer/", cssSelectorAncestor: s }) }) }, widget_form_login: function () { e(document).on("click", 'body:not(".logged-in") .purchase-course .purchase-button', function (t) { e(window).width() > 769 && e(".thim-widget-form-login .thim-link-login a").length > 0 && (t.preventDefault(), e(".thim-widget-form-login .thim-link-login a").trigger("click")) }) }, feature_preloading: function () { var t = e("#thim-preloading"); t.length > 0 && t.fadeOut(1e3, function () { t.remove() }) }, back_to_top: function () { e(window).scroll(function () { e(this).scrollTop() > 100 ? e("#back-to-top").css({ bottom: "15px" }) : e("#back-to-top").css({ bottom: "-100px" }) }), e("#back-to-top").click(function () { return e("html, body").animate({ scrollTop: "0px" }, 800), !1 }) }, active_menu_click: function () { e(".site-header .navbar-nav > li").click(function () { e(".site-header .navbar-nav > li").removeClass("current-menu-item"), e(this).addClass("current-menu-item") }) }, mobile_menu_toggle: function () { e(".menu-mobile-effect").on("click touchstart", function (t) { return e("#wrapper-container").addClass("mobile-menu-open"), !1 }), e(".overlay-menu").on("click touchstart", function (t) { return e("#wrapper-container").removeClass("mobile-menu-open"), !1 }), e(document).on("click touchstart", ".mobile-menu-open .close-menu", function () { e("#wrapper-container").removeClass("mobile-menu-open") }) }, footer_fixed: function () { var t = e(".copyright-bottom").outerHeight(); e(".copyright-area").css({ "margin-bottom": t }) }, hidden_title: function () { var t = e(".page-title"), i = e("#masthead"); t.length <= 0 && !e("body").hasClass("home") && i.hasClass("header_overlay") && (e("body").addClass("hidden-page-title"), e(".content-pusher").css({ "padding-top": i.outerHeight() })) }, social_share: function () { e(".thim-post-social-share").on("click", "a", function (t) { t.preventDefault(); var i = e(this).attr("href"), a = (screen.availHeight - 500) / 2, s = (screen.availWidth - 500) / 2; return window.open(i, "social sharing", "width=650,height=520,left=" + s + ",top=" + a + ",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1"), !1 }) }, full_slider: function () { if (e("body").hasClass("home")) { e("#masthead.site-header"); var i, a = e(".content-pusher").length > 0 ? e(".content-pusher").offset().top : 0; e(window).outerHeight(); var s = e(".ob-slider-wrapper img").prop("naturalHeight"); e(window).width() > 480 ? (i = e(window).outerHeight() - a, e(".home4-slider .ob-slider-base").css("height", s)) : i = screen.height - a, e(".full-height").css("height", i); var o = !1; e(window).resize(function () { o && clearTimeout(o), o = setTimeout(function () { t.full_slider() }, 300) }) } }, gallery_posts: function () { e(window).load(function () { e(".thim-widget-gallery-posts .wrapper-gallery-filter").length > 0 && e(".thim-widget-gallery-posts .wrapper-gallery-filter").isotope({ filter: "*" }) }), e(document).on("click", ".filter-controls .filter", function (t) { t.preventDefault(); var i = e(this).data("filter"), a = e(this).parents(".thim-widget-gallery-posts").find(".wrapper-gallery-filter"); e(".filter-controls .filter").removeClass("active"), e(this).addClass("active"), a.isotope({ filter: i }) }), e(document).on("click", ".thim-gallery-popup", function (t) { t.preventDefault(); var i = e(this), a = i.attr("data-id"); i.addClass("loading"), e.post(ajaxurl, { action: "thim_gallery_popup", post_id: a }, function (t) { i.removeClass("loading"), e(".thim-gallery-show").append(t), e(".thim-gallery-show img").length > 0 ? e(".thim-gallery-show").magnificPopup({ mainClass: "my-mfp-zoom-in", type: "image", delegate: "a", showCloseBtn: !1, gallery: { enabled: !0 }, callbacks: { open: function () { e("body").addClass("thim-popup-active"), e.magnificPopup.instance.close = function () { e(".thim-gallery-show").empty(), e("body").removeClass("thim-popup-active"), e.magnificPopup.proto.close.call(this) } } } }).magnificPopup("open") : e.magnificPopup.open({ mainClass: "my-mfp-zoom-in", items: { src: e(".thim-gallery-show"), type: "inline" }, showCloseBtn: !1, callbacks: { open: function () { e("body").addClass("thim-popup-active"), e.magnificPopup.instance.close = function () { e(".thim-gallery-show").empty(), e("body").removeClass("thim-popup-active"), e.magnificPopup.proto.close.call(this) } } } }) }) }) }, login_form: function () { e(".thim-login form#registerform").submit(function (t) { var i = e(this), a = i.find("#user_login"), s = i.find("#user_email"), o = e(".thim-login-captcha .captcha-result"), n = i.find("#password"), l = i.find("#repeat_password"); if ("" != e("#registerform #check_spam_register").val() && t.preventDefault(), o.length > 0) { var r = parseInt(o.data("captcha1")), c = parseInt(o.data("captcha2")); r + c != parseInt(o.val()) && (o.addClass("invalid").val(""), t.preventDefault()) } a.length > 0 && "" == a.val() && (a.addClass("invalid"), t.preventDefault()), s.length > 0 && ("" == s.val() || !/[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/igm.test(s.val())) && (s.addClass("invalid"), t.preventDefault()), (n.val() !== l.val() || "" == n.val()) && (n.addClass("invalid"), l.addClass("invalid"), t.preventDefault()) }), e(".thim-login form#loginform").submit(function (t) { var i = e(this), a = i.find("#thim_login"), s = e(".thim-login-captcha .captcha-result"), o = i.find("#thim_pass"); if (a.length > 0 && "" == a.val() && (a.addClass("invalid"), t.preventDefault()), o.length > 0 && "" == o.val() && (o.addClass("invalid"), t.preventDefault()), s.length > 0) { var n = parseInt(s.data("captcha1")), l = parseInt(s.data("captcha2")); n + l != parseInt(s.val()) && (s.addClass("invalid").val(""), t.preventDefault()) } }), e(".thim-login form#lostpasswordform").submit(function (t) { var i = e(this).find("#user_login"); i.length > 0 && "" == i.val() && (i.addClass("invalid"), t.preventDefault()) }), e(".thim-login .captcha-result, .thim-login #repeat_password, .thim-login #password, .thim-login #user_email, .thim-login #user_login").on("focus", function () { e(this).removeClass("invalid") }), e(".thim-login #thim_login, .thim-login #thim_pass").on("focus", function () { e(this).removeClass("invalid") }) }, learnpress_set_wishlist: function () { e(".course-wishlist-box [class*='course-wishlist']").on("click", function (t) { t.preventDefault(); var i = e(this); !i.hasClass("loading") && (i.addClass("loading"), i.toggleClass("course-wishlist"), i.toggleClass("course-wishlisted"), i.hasClass("course-wishlisted") && e.ajax({ type: "POST", url: window.location.href, dataType: "html", data: { "lp-ajax": "toggle_course_wishlist", course_id: i.data("id"), nonce: i.data("nonce") }, success: function () { i.removeClass("loading") }, error: function () { i.removeClass("loading") } }), i.hasClass("course-wishlist") && e.ajax({ type: "POST", url: window.location.href, dataType: "html", data: { "lp-ajax": "toggle_course_wishlist", course_id: i.data("id"), nonce: i.data("nonce") }, success: function () { i.removeClass("loading") }, error: function () { i.removeClass("loading") } })) }) } } }(jQuery);